(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{54997:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stake",function(){return n(75726)}])},56964:function(e,t,n){"use strict";var a=n(85893),s=n(9008),i=n.n(s),l=n(11163),r=n(86501),o=n(23270);let p=e=>{let{layoutClassName:t,className:n,children:s,title:p,showConnectButton:u}=e,{pathname:d}=(0,l.useRouter)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{children:(0,a.jsx)("title",{children:p})}),(0,a.jsxs)("div",{className:t,children:["/"!==d&&(0,a.jsx)(o.W,{className:"flex justify-between items-center w-full px-4 sm:px-10 py-6 z-[2]",showConnectButton:u}),(0,a.jsx)("main",{className:n,children:s}),(0,a.jsx)(r.x7,{position:"bottom-right",reverseOrder:!1,toastOptions:{duration:3e3},containerStyle:{bottom:"40px"}})]})]})};t.Z=p},23270:function(e,t,n){"use strict";n.d(t,{W:function(){return b}});var a=n(85893),s=n(25675),i=n.n(s),l=n(41664),r=n.n(l),o=n(11163),p=n(67294),u=n(52005),d=n(45332),c=n(64716);let m=e=>{let{className:t}=e,n=function(){let[e,t]=(0,p.useState)(!1);return(0,p.useEffect)(()=>t(!0),[]),e}(),{address:s}=(0,c.mA)(),{chain:l}=(0,c.LN)(),{disconnect:r}=(0,c.qL)(),{switchNetwork:o}=(0,c.g0)();return n?(0,a.jsx)(a.Fragment,{children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{src:"/images/stake/bear-head.webp",width:208,height:148,alt:"bear head",className:"aspect-[208/148] w-[50px]"}),(null==l?void 0:l.unsupported)?(0,a.jsx)("button",{disabled:!o,className:"".concat(t," text-red-400 font-memoriesItalic"),onClick:()=>null==o?void 0:o(1),children:"Wrong chain"}):(0,a.jsx)("button",{className:"".concat(t," font-memoriesItalic"),onClick:()=>r(),children:(0,d.Xn)(s)})]}):(0,a.jsx)(u.x,{className:"".concat(t," focus:outline-none")})}):(0,a.jsx)(a.Fragment,{})},y=[{name:"lore",href:"/lore"},{name:"stake",href:"/stake"},{name:"lookbook",href:"/lookbook"},{name:"opensea",href:"https://opensea.io/collection/buddabearsofficial",external:!0},{name:"twitter",href:"https://twitter.com/@BuddaBearsNFT",external:!0},{name:"discord",href:"https://discord.gg/buddabearsnft",external:!0}],b=e=>{let{className:t,showConnectButton:n}=e,{pathname:s}=(0,o.useRouter)(),[l,u]=(0,p.useState)(!0),d="h-1.5 w-8 rounded-full my-[1px] bg-black transition ease transform duration-300";return(0,a.jsxs)("header",{className:t+" justify-between",children:[(0,a.jsxs)("nav",{className:"flex w-full relative z-10",children:[(0,a.jsx)(r(),{href:"/",className:"shrink-0",children:(0,a.jsx)(i(),{src:"/images/icons/bb.webp",width:85,height:85,alt:"bb logo",className:"object-contain cursor-pointer max-md:h-[65px]"})}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{onClick:()=>u(!l),className:"relative flex flex-col cursor-pointer justify-center p-2 items-center lg:hidden",children:[(0,a.jsx)("span",{className:"".concat(d," ").concat(l?"rotate-90 translate-x-[4px] translate-y-[4px]":"")}),(0,a.jsx)("span",{className:"".concat(d," ").concat(l?"rotate-90 -translate-y-[4px] -translate-x-[4px]":"")})]}),l&&(0,a.jsx)("div",{className:"".concat(l?"opacity-100":"opacity-0"," transition-opacity ease-in-out duration-500 items-center max-lg:absolute max-lg:top-5 max-lg:left-[9rem] gap-3 flex flex-col lg:flex-row z-10 lg:pl-8"),children:y.map(e=>(0,a.jsx)(r(),{href:e.href,target:e.external?"_blank":void 0,rel:e.external?"noopener noreferrer":void 0,style:e.href===s?{backgroundColor:"rgba(0,0,0,0.6)",color:"white",fontFamily:"Memories"}:{backgroundColor:"rgba(255,255,255,0.9)"},className:"bg-black/5 pb-1 pt-2 text-center w-[100px] lg:w-[110px] rounded-sm capitalize font-memoriesItalic",children:e.name},e.name))})]})]}),(0,a.jsx)("div",{className:"z-10 flex gap-2 shrink-0 items-center",children:n&&(0,a.jsx)(m,{className:"z-[2]"})})]})}},52005:function(e,t,n){"use strict";n.d(t,{x:function(){return d}});var a=n(85893),s=n(34829),i=n(20728),l=n(25675),r=n.n(l),o=n(67294),p=n(64716);let u=e=>"walletConnect"===e?{image:"/images/wallets/walletconnect.png",title:"WalletConnect"}:"coinbaseWallet"===e?{image:"/images/wallets/coinbase.png",title:"Coinbase"}:{image:"/images/wallets/metamask.png",title:"Metamask"},d=e=>{let{className:t}=e,[n,l]=(0,o.useState)(!1),{connect:d,connectors:c}=(0,p.$4)(),m=()=>l(!1),y=()=>l(!0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:y,className:t||"inline-flex items-center justify-center whitespace-nowrap rounded-full border border-transparent bg-white px-4 py-[2px] text-base font-semibold text-black shadow-sm",children:"Connect Wallet"}),(0,a.jsx)(s.u,{appear:!0,show:n,as:o.Fragment,children:(0,a.jsxs)(i.V,{as:"div",className:"relative z-[100]",onClose:m,children:[(0,a.jsx)(s.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black/25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(s.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(i.V.Panel,{className:"w-full max-w-lg overflow-hidden bg-white p-6 rounded-3xl",children:[(0,a.jsx)("p",{className:"text-center text-lg italic py-2",children:"Select Wallet"}),(0,a.jsx)("div",{className:"flex w-full justify-center gap-8 px-4",children:c.map(e=>{let{image:t,title:n}=u(e.id);return(0,a.jsx)("div",{className:"mx-auto w-full",children:(0,a.jsxs)("button",{disabled:!e.ready,onClick:()=>d({connector:e}),className:"w-full hover:bg-gray-200 rounded-xl",children:[(0,a.jsx)(r(),{src:t,width:100,height:100,alt:e.name,className:"w-full object-contain py-2 aspect-square"}),(0,a.jsx)("p",{className:"text-center italic",children:n})]})},e.id)})})]})})})})]})})]})}},75726:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var a=n(85893),s=n(25675),i=n.n(s),l=n(52005);let r=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{src:"/images/stake/connect.webp",fill:!0,className:"absolute inset-0",alt:"Stake & bake"}),(0,a.jsxs)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 max-w-[300px] text-center",children:[(0,a.jsx)("h2",{className:"font-superfreak text-3xl",children:"Stake Budda to earn $buds."}),(0,a.jsx)(l.x,{className:"border-2 border-black px-4 text-lg pb-1 pt-2 mt-4 italic rounded-none bg-white"})]})]});function o(e,t){return(0,a.jsx)("div",{className:"".concat(e.visible?"animate-enter":"animate-leave"," toast"),children:(0,a.jsx)("p",{className:"items-center bg-white px-6 pb-1 pt-2 rounded-full mx-3 text-sm font-medium z-[30]",children:t})})}var p=n(56964),u=n(36492),d=n(8198),c=n(64146);let m=[{inputs:[],name:"ApprovalCallerNotOwnerNorApproved",type:"error"},{inputs:[],name:"ApprovalQueryForNonexistentToken",type:"error"},{inputs:[],name:"ApproveToCaller",type:"error"},{inputs:[],name:"BalanceQueryForZeroAddress",type:"error"},{inputs:[],name:"MintERC2309QuantityExceedsLimit",type:"error"},{inputs:[],name:"MintToZeroAddress",type:"error"},{inputs:[],name:"MintZeroQuantity",type:"error"},{inputs:[],name:"OwnerQueryForNonexistentToken",type:"error"},{inputs:[],name:"OwnershipNotInitializedForExtraData",type:"error"},{inputs:[],name:"TransferCallerNotOwnerNorApproved",type:"error"},{inputs:[],name:"TransferFromIncorrectOwner",type:"error"},{inputs:[],name:"TransferToNonERC721ReceiverImplementer",type:"error"},{inputs:[],name:"TransferToZeroAddress",type:"error"},{inputs:[],name:"URIQueryForNonexistentToken",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toTokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"ConsecutiveTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Staked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Unstaked",type:"event"},{inputs:[{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"allowlistMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"allowlistMintOpen",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"banFromStaking",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"baseTokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isReveal",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxMintsPerWallet",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxMintsTeam",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSupply",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"mintPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mintTeam",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"who",type:"address"}],name:"numberMinted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"publicMintOpen",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"royaltiesBasisPoints",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltiesRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"_salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"royaltyAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferWhileStaking",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_allowlistMintOpen",type:"bool"}],name:"setAllowlistMintOpen",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_baseTokenURI",type:"string"}],name:"setBaseTokenURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_maxMintsPerWallet",type:"uint32"}],name:"setMaxMintsPerWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_methodsExposureFacetAddress",type:"address"}],name:"setMethodsExposureFacetAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_mintPrice",type:"uint256"}],name:"setMintPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_publicMintOpen",type:"bool"}],name:"setPublicMintOpen",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_isReveal",type:"bool"}],name:"setReveal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_royaltiesBasisPoints",type:"uint256"}],name:"setRoyaltiesBasisPoints",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_royaltiesRecipient",type:"address"}],name:"setRoyaltiesRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"open",type:"bool"}],name:"setStakingOpen",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingOpen",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32[]",name:"tokenIds",type:"uint32[]"}],name:"stakingStatus",outputs:[{components:[{internalType:"bool",name:"staking",type:"bool"},{internalType:"uint256",name:"current",type:"uint256"},{internalType:"uint256",name:"total",type:"uint256"}],internalType:"struct LibDiamond.Staking[]",name:"statusses",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"toggleStaking",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalMintedTeam",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];class y{static createInterface(){return new d.vU(m)}static connect(e,t){return new c.CH(e,m,t)}}y.abi=m;var b=n(64716);let x=e=>{let t=(0,b.yL)(),n=y.connect("0xDe3F1F2083f826bC3f7f2f96E7E6B321294374b7",t),{data:a,refetch:s}=(0,u.a)(["stakingstatus",e],async()=>n.stakingStatus([...e]));return{data:a,refetch:s}};var f=n(2593);let h=e=>{let{address:t}=(0,b.mA)(),{config:n,error:a}=(0,b.PJ)({address:"0xDe3F1F2083f826bC3f7f2f96E7E6B321294374b7",abi:[{inputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"toggleStaking",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"toggleStaking",args:[null==e?void 0:e.map(e=>f.O$.from(e))],enabled:!!t&&(null==e?void 0:e.length)>0}),{writeAsync:s,reset:i,data:l,isLoading:r}=(0,b.GG)({...n});return{writeAsync:s,data:l,isLoading:r,reset:i}},g=async(e,t,n)=>{if(!e)return{totalCount:0,ownedNfts:[],pageKey:""};let a="gP4HWPga_4NwCH7SjgJ4cRkNjSOOlHTD";return 1!==t?fetch("".concat("https://eth-mainnet.alchemyapi.io/nft/v2/".concat(a,"/getNFTs/"),"?owner=").concat(e,"&contractAddresses[]=").concat("0xDe3F1F2083f826bC3f7f2f96E7E6B321294374b7","&withMetadata=true&pageSize=20").concat(""!=n?"&pageKey=".concat(n):"")).then(e=>e.json()).catch(e=>console.log("error",e)):fetch("".concat("https://eth-mainnet.alchemyapi.io/nft/v2/".concat(a,"/getNFTs/"),"?owner=").concat(e,"&contractAddresses[]=").concat("0xDe3F1F2083f826bC3f7f2f96E7E6B321294374b7","&withMetadata=true")).then(e=>e.json()).catch(e=>console.log("error",e))};var v=n(59403),w=n(45332),k=n(67294),T=n(86501),N=n(97650);let j=e=>e/86400*7,M=()=>{var e,t,n,s;let{address:l}=(0,b.mA)(),{chain:u}=(0,b.LN)(),[d,c]=(0,k.useState)([]),{ref:m,inView:y}=(0,N.YD)({threshold:0}),{data:f,fetchNextPage:M}=(0,v.N)(["fetchAddressCollection",l,u],t=>{let{pageParam:n=""}=t;return g(l,null!==(e=null==u?void 0:u.id)&&void 0!==e?e:1,n)},{staleTime:15e4,cacheTime:3e5,enabled:!!l,getNextPageParam:e=>null!==(t=null==e?void 0:e.pageKey)&&void 0!==t?t:""}),{pages:I,pageParams:F}=null!=f?f:{};(0,k.useEffect)(()=>{var e;y&&(null===(e=I[0])||void 0===e?void 0:e.pageKey)&&M()},[y,I]);let C=(0,k.useMemo)(()=>I?I.flatMap(e=>{var t;return null==e?void 0:null===(t=e.ownedNfts)||void 0===t?void 0:t.map(e=>e)}):[],[I]),S=(0,k.useMemo)(()=>null==I?void 0:I.flatMap(e=>{var t;return null==e?void 0:null===(t=e.ownedNfts)||void 0===t?void 0:t.map(e=>{var t;return parseInt(null==e?void 0:null===(t=e.id)||void 0===t?void 0:t.tokenId,16)})}),[I]),{data:_,refetch:A}=x(null!=S?S:[]),O=(0,k.useMemo)(()=>null!==(n=null==C?void 0:C.map((e,t)=>({...e,...null==_?void 0:_[t]})))&&void 0!==n?n:[],[C,_]),B=(0,k.useCallback)(()=>{c([]),A()},[]),{data:E,writeAsync:P,isLoading:R,reset:z}=h(d);(0,k.useEffect)(()=>{E&&E.wait(1).then(()=>{T.ZP.custom(e=>o(e,"✅ Budda Staked!")),B()}).catch(()=>T.ZP.custom(e=>o(e,"❌ Something went wrong!"))).finally(z)},[E]);let W=null==O?void 0:O.reduce((e,t)=>{var n,a,s;return{staked:(null==t?void 0:t.staking)?[...e.staked,null==t?void 0:null===(n=t.id)||void 0===n?void 0:n.tokenId]:e.staked,unstaked:(null==t?void 0:t.staking)?e.unstaked:[...e.unstaked,null==t?void 0:null===(a=t.id)||void 0===a?void 0:a.tokenId],totalTime:e.totalTime+(null===(s=t.total)||void 0===s?void 0:s.toNumber())}},{staked:[],unstaked:[],totalTime:0}),U=e=>{var t;return d.includes(null==e?void 0:null===(t=e.id)||void 0===t?void 0:t.tokenId)?e.staking?"bg-[url('/images/stake/unstake.webp')] bg-cover bg-center border-[#a2e268]":"bg-[url('/images/stake/stake.webp')] bg-cover bg-center border-[#a2e268]":e.staking?"bg-[url('/images/stake/staked.webp')] bg-cover bg-center border-[#a2e268]":"border-black"};return(0,a.jsx)(p.Z,{layoutClassName:"stake_gradient min-h-screen w-full",title:"Budda Bears | Stake",showConnectButton:!!l,children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative max-w-[1200px] sm:ml-[7vw] px-8 z-[2]",children:[(0,a.jsxs)("h1",{className:"font-superfreak text-[4rem] leading-[70px] sm:text-[5rem] md:leading-[90px] pb-6",children:["Stake ",(0,a.jsx)("br",{}),"& bake"]}),(0,a.jsxs)("div",{className:"z-10 flex max-xs:mt-36 max-md:mt-20 max-md:flex-col max-md:gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col max-md:w-full gap-3 mr-6 whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"flex md:flex-col gap-3",children:[(0,a.jsx)("button",{onClick:()=>c(W.unstaked),className:"border-2 bg-white/40 border-black w-full md:w-[200px] pt-2.5 pb-1.5",children:"Stake All"}),(0,a.jsx)("button",{onClick:()=>c(W.staked),className:"border-2 bg-white/40 border-black w-full md:w-[200px] pt-2.5 pb-1.5",children:"Unstake All"})]}),(0,a.jsxs)("div",{className:"flex md:flex-col gap-3",children:[(0,a.jsx)("button",{onClick:()=>c([]),className:"border-2 bg-white/40 border-black w-full md:w-[200px] pt-2.5 pb-1.5",children:"Clear Selection"}),(0,a.jsx)("button",{onClick:()=>null==P?void 0:P(),className:"border-2 bg-white/40 border-black w-full md:w-[200px] pt-2.5 pb-1.5",children:"Stake / Unstake"})]})]}),(0,a.jsxs)("ul",{className:"relative grid grid-cols-2 pb-4 md:grid-cols-3 lg:grid-cols-4 gap-y-6 gap-x-5 sm:gap-x-6 lg:pb-8",children:[null==O?void 0:O.map(e=>{var t;return(0,a.jsxs)("li",{role:"button",onClick:()=>{d.includes(e.id.tokenId)?c(d.filter(t=>t!==e.id.tokenId)):c([...d,e.id.tokenId])},"aria-label":e.title,className:"relative flex flex-col items-center p-4 text-center uppercase bg-white group",children:[(0,a.jsx)("div",{className:"".concat(U(e)," inset-0 absolute border-2")}),(0,a.jsx)(i(),{src:(0,w.N8)(null===(t=e.media[0])||void 0===t?void 0:t.raw),loading:"lazy",height:200,width:200,alt:e.title,className:"w-full aspect-square"}),(0,a.jsxs)("div",{className:"pt-4 text-sm font-bold",children:["#",parseInt(e.id.tokenId)]})]},e.id.tokenId)}),(null==I?void 0:I[0].pageKey)&&(0,a.jsx)("p",{ref:m,className:"italic text-center",children:"Where are those Budda's!"})]})]})]}),(0,a.jsxs)("div",{className:"absolute max-xs:top-[25%] z-[1] top-[10%] right-0 aspect-[1106/811]",children:[(0,a.jsx)(i(),{src:"/images/stake/stake_bear.webp",height:300,width:380,alt:"budda cloud",className:"z-0 max-md:w-[300px]"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-[37%] space-y-1",children:(0,a.jsxs)("dl",{className:"max-md:w-[200px] w-[250px]",children:[(0,a.jsxs)("div",{className:"flex max-md:gap-4 sm:grid sm:grid-cols-3 font-superfreak sm:gap-4 items-center",children:[(0,a.jsx)("dt",{className:"text-base sm:text-lg whitespace-nowrap sm:col-span-2",children:"Staked Budda's"}),(0,a.jsx)("dd",{className:"text-base",children:null==W?void 0:W.staked.length})]}),(null==W?void 0:W.unstaked.length)>0&&(0,a.jsxs)("div",{className:"flex max-md:gap-4 sm:grid sm:grid-cols-3 font-superfreak sm:gap-4 items-center",children:[(0,a.jsx)("dt",{className:"text-base sm:text-lg whitespace-nowrap sm:col-span-2",children:"Unstaked Budda's"}),(0,a.jsx)("dd",{className:"text-base",children:null==W?void 0:W.unstaked.length})]}),(0,a.jsxs)("div",{className:"flex max-md:gap-4 sm:grid sm:grid-cols-3 font-superfreak sm:gap-4 items-center",children:[(0,a.jsx)("dt",{className:"text-base sm:text-lg whitespace-nowrap sm:col-span-2",children:"$BUDS/day"}),(0,a.jsx)("dd",{className:"text-base",children:(null==W?void 0:W.staked.length)*7})]}),(0,a.jsxs)("div",{className:"flex max-md:gap-4 sm:grid sm:grid-cols-3 font-superfreak sm:gap-4 items-center",children:[(0,a.jsx)("dt",{className:"text-base sm:text-lg whitespace-nowrap sm:col-span-2",children:"Total $BUDS"}),(0,a.jsx)("dd",{className:"text-base",children:j(null!==(s=null==W?void 0:W.totalTime)&&void 0!==s?s:0).toFixed(2)})]})]})})]}),(0,a.jsx)("div",{className:"absolute left-12 top-[35rem] aspect-[613/511]",children:(0,a.jsx)(i(),{src:"/images/stake/stake_cloud.webp",height:300,width:250,alt:"weed cloud",className:"rotate-[-35deg] z-0"})}),(0,a.jsxs)("div",{className:"fixed right-0 bottom-0",children:[(0,a.jsx)(i(),{src:"/images/stake/rainbow-part.webp",height:1022,width:963,alt:"rainbow",className:"z-0 w-[400px]"}),(0,a.jsx)(i(),{src:"/images/stake/stake_cloud.webp",height:300,width:250,alt:"weed cloud",className:"absolute bottom-6 right-6 rotate-[5deg] aspect-[613/511]"})]})]}):(0,a.jsx)(r,{})})};var I=M},45332:function(e,t,n){"use strict";function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e?"".concat(e.slice(0,t),"...").concat(e.slice(-t)):""}n.d(t,{N8:function(){return s},Xn:function(){return a}});let s=e=>{let t=e.replace(/.+\/(Qm[^\/]+)/,"$1").replace(/https:\/\/([^\.]+)\.ipfs\.nftstorage\.link\/?/,"$1");return"https://ipfs.io/ipfs/".concat(t)}}},function(e){e.O(0,[148,36,774,888,179],function(){return e(e.s=54997)}),_N_E=e.O()}]);